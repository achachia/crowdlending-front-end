<ngx-ui-loader></ngx-ui-loader>


<body id="page-top">

    <!-- Page Wrapper -->
    <div id="wrapper">
  
      <!-- Sidebar -->
      <app-side-bar-left-compant-owner-templates *ngIf="infosUser.typeCompte == '2'"></app-side-bar-left-compant-owner-templates>

      <app-side-bar-left-admin-templates *ngIf="infosUser.typeCompte == '1'"></app-side-bar-left-admin-templates>

      <app-side-bar-left-investor-templates  *ngIf="infosUser.typeCompte == '3'"></app-side-bar-left-investor-templates>
      <!-- End of Sidebar -->
  
      <!-- Content Wrapper -->
      <div id="content-wrapper" class="d-flex flex-column">
  
        <!-- Main Content -->
        <div id="content">
  
          <!-- Topbar  start Nav -->

          <app-nav-admin-templates *ngIf="infosUser.typeCompte == '1'"></app-nav-admin-templates>

          <app-nav-compant-owner-templates *ngIf="infosUser.typeCompte == '2'"></app-nav-compant-owner-templates>

          <app-nav-investor-templates *ngIf="infosUser.typeCompte == '3'"></app-nav-investor-templates>

          
         
          <!-- End of Topbar end Nav -->
  
          <!-- Begin Page Content -->
          <div class="container-fluid">
  
            <!-- Page Heading -->
            <div class="d-sm-flex align-items-center justify-content-between mb-4">
              <h1 class="h3 mb-0 text-gray-800">LE PROJET : {{ObjetProjectTemplate.nom}}</h1>             
            </div>
  
          
            <div class="row"  style="margin-left :5%">                      
  
                <ngb-tabset [destroyOnHide]="false">
                    <ngb-tab title="Fiche information de projet">
                      <ng-template ngbTabContent>
                        <div class="row" style="margin-top:5%">

                          <div class="col-lg-8">

                            <div class="col-lg-12" style="margin-top:5%">

                                <div class="card  border-left-primary">

                                    <div class="card-body">                                 
                                           
                                        <img mat-card-image [src]="ObjetProjectTemplate.afficheProject" alt="" style="text-align:center;margin-left:10%;width:50%;height :50%" > 

                                    </div>

                                  </div>

                            </div> 

                            <div class="col-lg-12" style="margin-top:5%">

                                <div class="card border-left-primary">

                                    <div class="card-body">                                 
                                           
                                            <h3>Nom projet : {{ObjetProjectTemplate.nom}}</h3>                                       
                                    </div>

                                  </div>

                            </div> 

                            <div class="col-lg-12" style="margin-top:5%">

                                <div class="card mb-12 py-12 border-left-primary">

                                    <div class="card-body">                                 
                                           
                                            <h3>Description  : {{ObjetProjectTemplate.description}}</h3>                                       
                                    </div>

                                  </div>

                            </div>
                            
                            <div class="col-lg-12" style="margin-top:5%">

                                <div class="card mb-12 py-12 border-left-primary">

                                    <div class="card-body">                                 
                                           
                                            <h3>prot√© de  projet : {{ObjetProjectTemplate.portes_project}}</h3>                                       
                                    </div>

                                  </div>

                            </div> 

                            <div class="col-lg-12" style="margin-top:5%">

                                <div class="card mb-12 py-12 border-left-primary">

                                    <div class="card-body">                                 
                                           
                                            <h3>montant minimun de collecte : {{ObjetProjectTemplate.montant_minimun}} euros</h3>                                       
                                    </div>

                                  </div>

                            </div> 

                            <div class="col-lg-12" style="margin-top:5%">

                                <div class="card mb-12 py-12 border-left-primary">

                                    <div class="card-body">                                 
                                           
                                            <h3>Date limite de collecte : {{ObjetProjectTemplate.date_limite_collecte}}</h3>                                       
                                    </div>

                                  </div>

                            </div> 


                            <div class="col-lg-12" style="margin-top:5%">

                                <div class="card mb-12 py-12 border-left-primary">

                                    <div class="card-body">                                 
                                           
                                            <h3>Contre partie de project : {{ObjetProjectTemplate.contrePartieProject}}</h3>                                       
                                    </div>

                                  </div>

                            </div> 

                            <div class="col-lg-12" style="margin-top:5%">

                                <div class="card mb-12 py-12 border-left-primary">

                                    <div class="card-body">                                 
                                           
                                            <h3>Categorie de project : {{ObjetProjectTemplate.categorie_project}}</h3>                                       
                                    </div>

                                  </div>

                            </div> 

                            <div class="col-lg-12" style="margin-top:5%">

                                <div class="card mb-12 py-12 border-left-primary">

                                    <div class="card-body">                                 
                                           
                                            <h3>Statut project : {{ObjetProjectTemplate.statut_project}}</h3>                                       
                                    </div>

                                  </div>

                            </div> 
                        </div>

                        <div class="col-lg-4">

                            <div class="col-lg-12" *ngIf="ObjetProjectTemplate.idManager==infosUser.id">

                                <div class="card mb-12 py-12 border-left-primary">

                                    <div class="card-body">                                 
                                           
                                        <select class="form-control"  [(ngModel)] = "statutProject" name="statut_project">
                                  
                                            <option  value="">Selectionner votre action de projet</option>               
                        
                                            <option  [value]="action.key" *ngFor="let action of listeStatusProject" >{{action.value}}</option>                                        
                                           
                                    </select> 
                                    
                                    <button class="btn btn-light btn-icon-split" (click)="updateStatutProject()">
                                        <span class="icon text-gray-600">
                                          <i class="fas fa-plus"></i>
                                        </span>
                                        <span class="text">Action</span>
                                      </button>
                                    </div>

                                  </div>

                            </div> 


                        </div>
                        </div>    
                      </ng-template>
                    </ngb-tab>
                    <ngb-tab>
                      <ng-template ngbTabTitle>Porteur de projet</ng-template>
                      <ng-template ngbTabContent>


                        <div class="col-lg-12"  style="margin-top:5%">

                            <div class="card mb-12 py-12 border-left-primary">

                                <div class="card-body">                                 
                                       
                                    <img mat-card-image [src]="companyOwner.photoUser" alt="" style="text-align:center;margin-left:5%;width:25%;height :25%" > 

                                </div>

                              </div>

                        </div> 

                        <div class="col-lg-12" style="margin-top:5%">

                            <div class="card mb-10 py-12 border-left-primary">

                                <div class="card-body">                                 
                                       
                                        <h3>Nom  : {{companyOwner.nom}}.{{companyOwner.prenom}}</h3>                                       
                                </div>

                              </div>

                        </div> 

                        <div class="col-lg-10" style="margin-top:5%">

                            <div class="card mb-12 py-12 border-left-primary">

                                <div class="card-body">                                 
                                       
                                        <h3>Date de naissance : {{companyOwner.dateNaissance}}</h3>                                       
                                </div>

                              </div>

                        </div> 

                        <div class="col-lg-10" style="margin-top:5%">

                            <div class="card mb-12 py-12 border-left-primary">

                                <div class="card-body">                                 
                                       
                                        <h3>Sex  : {{companyOwner.sex}}</h3>                                       
                                </div>

                              </div>

                        </div>                        
                        
                     
                        
                      </ng-template>
                      
                    </ngb-tab> 
                    
                    <ngb-tab>
                        <ng-template ngbTabTitle>Images de projet</ng-template>
                        <ng-template ngbTabContent>
  
                           <div class="row" style="margin-top:10%">

                             <ngb-carousel *ngIf="imagesProjects.length>0">

                                <ng-template ngbSlide *ngFor="let image of imagesProjects; let i = index ">
                                  <div class="picsum-img-wrapper">
                                    <img [src]="image.link" alt="Random first slide">
                                  </div>
                                  <div class="carousel-caption">
                                   <!-- <h3>First slide label</h3>
                                    <p>Nulla vitae elit libero, a pharetra augue mollis interdum.</p>-->
                                  </div>
                                </ng-template>
                               
                              </ngb-carousel>   
                        
                        
                            </div> 
                           
                          
                        </ng-template>
                        
                      </ngb-tab> 

                      <ngb-tab>

                        <ng-template ngbTabTitle>Contact</ng-template>

                        <ng-template ngbTabContent>
  
                           <div class="row" style="margin-top:5%"  *ngFor="let objectAdresse of ObjetProject.adressReseauxSociauxProject; let i = index " >

                            <div class="col-lg-12"  style="margin-top:5%"  >

                                <div class="card mb-12 py-12 border-left-primary">
    
                                    <div class="card-body">                                 
                                           
                                        <h3>{{objectAdresse.valueMedia}} : {{objectAdresse.linkProject}}</h3>

                                                                      

                                       
                                    </div>
    
                                  </div>
    
                            </div> 
    
                        
                        
                            </div> 
                           
                          
                        </ng-template>
                        
                      </ngb-tab> 

                      <ngb-tab>

                        <ng-template ngbTabTitle>Questions & R√©ponses/Porteur de projet</ng-template>

                        <ng-template ngbTabContent>
  
                          <div class="comments" style="margin-top:5%;margin-left:5%;">
                            <div class="comment-wrap">
                                <div class="photo">
                                    <div class="avatar" style="background-image: url('{{infosUser.photoUser}}')"></div>
                                </div>
                                <div class="comment-block">
                                    <form action="" #questionFormForCompanyOwner = "ngForm"  (ngSubmit)="onFormSubmitQuestionForCompanyOwner()">

                                      <textarea name="" id="" cols="60" rows="3" placeholder="R√©diger votre question..." [(ngModel)] = "ObjetAideForCompanyOwner.body_aide" name="question"></textarea>

                                      <div class="form-group" style="margin-top:5%;">

                                        <button type="submit" class="btn btn-primary" [disabled]="!questionFormForCompanyOwner.form.valid">Envoyer</button>

                                    </div>

                                       <!-- <editor  apiKey="qagffr3pkuv17a8on1afax661irst1hbr4e6tbv888sz91jc"    class="mat-elevation-z1"     (onInit)="handleEditorInit($event)"   [init]="{  icons: 'material', skin: 'borderless', plugins: 'wordcount', menubar: false, min_height: 150  }"  ></editor>-->
                                    </form>
                                </div>
                            </div>
                        
                            <div class="comment-wrap"  *ngFor="let objectquestion of listQuestionsAidesForCompanyOwner; let i = index ">

                              <div class="photo">
        
                                <div *ngIf="objectquestion.typeComtpteExp == 'company_owner'" class="avatar"   style="background-image: url('{{companyOwner.photoUser }}')"> </div>
        
                                <div *ngIf="objectquestion.typeComtpteExp == 'admin'" class="avatar"   style="background-image: url('{{ infosUser.photoUser }}')"> </div>
                              </div>
                              <div class="comment-block">
                                <p class="comment-text">{{objectquestion.body_aide}}</p>
                                <div class="bottom-comment">
                                  <div class="comment-date">{{objectquestion.date_created}}</div>
                                <!--    <ul class="comment-actions">
                                  <li class="complain">Complain</li>
                                    <li class="reply">Reply</li>
                                  </ul>-->
                                </div>
                              </div>
                            </div>

                        </div>
                        
                      
                        
                           
                          
                        </ng-template>
                        
                      </ngb-tab> 


                  </ngb-tabset>
            
             
          </div>
          
  
          </div>
          <!-- /.container-fluid -->
  
        </div>
        <!-- End of Main Content -->
  
        <!-- Footer -->
        <app-footer-admin-templates *ngIf="infosUser.typeCompte == '1'"></app-footer-admin-templates>

        <app-footer-compant-owner-templates *ngIf="infosUser.typeCompte == '2'"></app-footer-compant-owner-templates>

        <app-footer-investor-templates *ngIf="infosUser.typeCompte == '3'"></app-footer-investor-templates>
        <!-- End of Footer -->
  
      </div>
      <!-- End of Content Wrapper -->
  
    </div>
    <!-- End of Page Wrapper -->
  
    <!-- Scroll to Top Button-->
    <a class="scroll-to-top rounded" href="#page-top">
      <i class="fas fa-angle-up"></i>
    </a>
  
    <!-- Logout Modal-->
    <div class="modal fade" id="logoutModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Ready to Leave?</h5>
            <button class="close" type="button" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">√ó</span>
            </button>
          </div>
          <div class="modal-body">Select "Logout" below if you are ready to end your current session.</div>
          <div class="modal-footer">
            <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
            <button class="btn btn-primary">Logout</button>
          </div>
        </div>
      </div>
    </div>
  
  
  
  </body>
  
  
  
  





